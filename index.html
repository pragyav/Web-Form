<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Web-Form</title>
  <link rel="stylesheet" href="style.css" type="text/css">
</head>

<body onload="document.webForm.name.focus();">
  <div id="page">
    <div id="header">
      <h1>Let's talk</h2>
        <p>Think you have what it takes? Show us.</p>
    </div>
    <form name="webForm" action="" onsubmit="return validateForm()" method="post">
      <div>
        <p>1. Personal information</p>
        <hr>
      </div>
      <div>
        <div id="half-name">
          <input type="text" id="name" name="name" placeholder="Full name*" pattern="^[a-zA-Z][a-zA-Z0-9-_\.\s]{2,20}" required>
        </div>
        <div id="half-phone">
          <input type="text" id="phone" name="phone" placeholder="Phone*" pattern="^(\+|00)358-?0?(457|50|4[0-9])-?\d{7}" required>
        </div>
      </div>
      <div>
        <input type="email" id="mail" name="mail" placeholder="E-mail*" required>
      </div>
      <div>
        <input type="email" id="remail" name="mail" placeholder="Re-enter E-mail*" required>

        <span id="confirmEmail" class="confirmEmail"></span>
      </div>
      <div>
        <input type="text" id="address" name="address" placeholder="Address*" pattern="\w+(\s\w+)*" required>
      </div>
      <div>
        <div id="quarter-city">
          <input type="text" id="city" name="city" placeholder="City*" pattern="[a-zA-Z]{2,}" required>
        </div>
        <div id="quarter-state">
          <input type="text" id="state" name="state" placeholder="State" pattern="[a-zA-Z]{2,}">
        </div>
        <div id="quarter-region">
          <input type="text" id="country" name="country" placeholder="Country/Region*" pattern="[a-zA-Z]{2,}" required>
        </div>
        <div id="quarter-zip">
          <input type="text" id="zipcode" name="zip" placeholder="Zip/Postal Code" pattern="[0-9]{5}">
        </div>
      </div>
      <div>
        <input type="text" id="how_did_you_hear" name="remarks" placeholder="How did you hear about us">
      </div>
      <p>2. Skills and location</p>
      <hr>
      <p>Which is your primary design discipline?</p>
      <div class="primaryskill">

        <input type="radio" id="designresearch" name="primaryskill" value="Design Research">
        <label class="skill" for="designresearch">Design Research</label>

        <input type="radio" id="visualdesign" name="primaryskill" value="Visual Design">
        <label class="skill" for="visualdesign">Visual Design</label>

        <input type="radio" id="uxdesign" name="primaryskill" value="uxdesign">
        <label class="skill" for="uxdesign">UX Design</label>

        <input type="radio" id="Frontenddev" name="primaryskill" value="Frontenddev">
        <label class="skill" for="Frontenddev">Front-end Dev</label>

      </div>
      <div class="experience">
        <div id="discipline">
          <p>Do you have experience with any other disciplines?</p>

          <input type="checkbox" id="visualdesignexp" name="visualdesignexp" value="Visual Design">
          <label for="visualdesignexp">Visual Design
            <span class="delBtn">Delete</span>
          </label>

          <input type="checkbox" id="uxdesignexp" name="visualdesignexp" value="UX Design">
          <label for="uxdesignexp">UX Design
            <span class="delBtn">Delete</span>
          </label>

          <input type="checkbox" id="frontenddevelopmentexp" name="visualdesignexp" value="Front-end Development">
          <label for="frontenddevelopmentexp">Front-end Development
            <span class="delBtn">Delete</span>
          </label>

          <input type='text' id='addexp' required>
          <input type='button' value='Add' id='addBtn'>

        </div>

        <div id="working">
          <p>Where are you interested in working?</p>
          <p>You must be legally authorized to work without visa sponsorship in the location you choose.</p>

          <input type="checkbox" id="Austin" name="Austin" value="Austin">
          <label for="Austin">Austin, Texas</label>

          <input type="checkbox" id="NewYork" name="Austin" value="New York">
          <label for="NewYork">New York, New York</label>

          <input type="checkbox" id="Toronto" name="Austin" value="Toronto">
          <label for="Toronto">Toronto, Canada</label>

          <input type="checkbox" id="Shanghai" name="Austin" value="Shanghai">
          <label for="Shanghai">Shanghai, China</label>

          <input type="checkbox" id="Dublin" name="Austin" value="Dublin">
          <label for="Dublin">Dublin, Ireland</label>

          <input type="checkbox" id="Hursley" name="Austin" value="Hursley">
          <label for="Hursley">Hursley, United Kingdom</label>

          <input type="checkbox" id="Boeblingen" name="Austin" value="Boeblingen">
          <label for="Boeblingen">Boeblingen, Germany</label>

          <input type="checkbox" id="Somewhere" name="Somewhere" value="Somewhere">
          <label for="Somewhere">Somewhere else</label>

        </div>
      </div>
      <p>3. Portfolio</p>
      <hr>
      <p>Prove you are IBM's next great designer by showing us who you are. What you've done.How you think.Tell us your story.</p>
      <div>
        <input type="url" id="portfolio" name="portfolio" placeholder="Porfolio Link*" pattern="^(https?:\/\/)+([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$"
          required>
      </div>
      <div>
        <textarea id="msg" name="user_message" placeholder="Anything else (another link, availability etc.)?"></textarea>
      </div>
      <button type="submit" value="Submit" class="submitBtn" id="confirm">Submit
      </button>
    </form>
  </div>

  <script>

    // JSTask1: Delete Disciplines

    const DD = document.querySelectorAll('#discipline span');
    DD.forEach(function (item) {
      item.addEventListener('click', () => {
        item.parentElement.remove();
        return false;
      });
    });

    // JSTask2: Add Disciplines

    const addBtn = document.getElementById('addBtn');
    const addExp = document.getElementById('addexp');
    const container = document.getElementById('discipline');
    var counter = 0;

    addBtn.addEventListener('click', () => {
      var field = addExp.value;

      //Create Elements
      var inputElement = document.createElement('input');
      var labelElement = document.createElement('label');

      //Set Element Attributes
      inputElement.setAttribute("type", "checkbox");
      inputElement.setAttribute("id", counter);
      labelElement.setAttribute("for", counter);

      //Add span child to label parent
      labelElement.innerHTML = `${field} <span class="delBtn">Delete</span>`;
      addExp.value = "";

      //Add Element to the Parent    
      container.insertBefore(inputElement, addExp);
      container.insertBefore(labelElement, addExp);
      counter++

      //Remove feature to the appended child
      const DD = document.querySelectorAll('#discipline span');
      DD.forEach(function (item) {
        item.addEventListener('click', () => {
          item.parentElement.remove();
          return false;
        });
      });
    })

    //JS Task3 : Verify Email & Reentered Emails are Identical

    function checkEmail() {
      var email1 = document.getElementById('mail');
      var email2 = document.getElementById('remail');
      var message = document.getElementById('confirmEmail');
      var goodColor = "#66cc66";
      var badColor = "#ff6666";
      if (email1.value == email2.value) {
        message.style.color = goodColor;
        message.innerHTML = "Emails Match!"
      } else {
        message.style.color = badColor;
        message.innerHTML = "Emails Do Not Match!"
      }
    }

    //JS Task4 : JS way of Email Validation

    const email1 = document.getElementById('mail');
    const email2 = document.getElementById('remail');
    email2.addEventListener('blur', (event) => {
      if (email2.value !== email1.value) {
        email2.setCustomValidity("not matched");
      } else {
        email2.setCustomValidity("");
      }
    });

  </script>
</body>

</html>